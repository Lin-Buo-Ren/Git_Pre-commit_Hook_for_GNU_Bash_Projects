# Travis CI Configuration
# https://docs.travis-ci.com
# This file is based on
# TravisCI · koalaman/shellcheck Wiki
# https://github.com/koalaman/shellcheck/wiki/TravisCI
## Use container-based infrastructure for quicker build start-up
sudo: false

addons:
  apt:
    packages:
    - realpath      # Merged to GNU Coreutils in Ubuntu 16.04

## We only support Ubuntu 14.04 and newer
dist: trusty

language: bash

git:
## EXPERIMENTAL
  ### Customizing the Build - Travis CI
  ### https://docs.travis-ci.com/user/customizing-the-build/#Git-Clone-Depth
  ### > Please note that if you use a depth of 1 and have a queue of jobs, Travis CI won’t build commits that are in the queue when you push a new commit.
  depth: 1
  ### Whether or not update submdodules recursively before build
  submodules: false

before_install:
- git submodule init 'GNU Bash Automatic Checking Program for Git Projects' 'Utilities for Travis CI'
- git submodule update --depth=30

install:
- ./"Utilities for Travis CI/Setup ShellCheck's Latest Release without Re-building.bash"
- PATH="${HOME}/Software/shellcheck-stable:${PATH}"
- which shellcheck
- shellcheck --version

script:
- ./"GNU Bash Automatic Checking Program for Git Projects/GNU Bash Automatic Checking Program for Git Projects.bash"

cache:
  directories:
  - $HOME/Software

matrix:
  fast_finish: true
